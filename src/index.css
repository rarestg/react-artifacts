@import "tailwindcss";
@import "./theme/artifact-theme.css";

@custom-variant dark (&:where(.dark, .dark *));

@layer components {
  .decision-frame {
    @apply relative w-full flex flex-col h-full;
    --decision-ring-width: 2px;
    --decision-ring-offset: 1px;
    --decision-ring-outset: calc(var(--decision-ring-width) + var(--decision-ring-offset));
    --decision-ring-offset-color: var(--surface);
    --decision-ring: var(--warning);
    --decision-bg: var(--warning-weak);
    --decision-text: var(--warning);
  }

  .decision-ring {
    @apply w-full flex flex-col flex-1;
    box-shadow:
      0 0 0 var(--decision-ring-offset) var(--decision-ring-offset-color),
      0 0 0 calc(var(--decision-ring-width) + var(--decision-ring-offset)) var(--decision-ring);
  }

  .decision-badge {
    @apply pointer-events-none absolute left-0 top-0;
    transform: translate(calc(-1 * var(--decision-ring-outset)), calc(-100% - var(--decision-ring-outset) + 2px));
  }

  .decision-badge-label {
    @apply inline-flex items-center px-2 py-0.5 text-[11px] font-medium;
    background-color: var(--decision-bg);
    color: var(--decision-text);
    box-shadow: inset 0 0 0 var(--decision-ring-width) var(--decision-ring);
  }

  .decision-theme-amber {
    --decision-ring: var(--warning);
    --decision-bg: var(--warning-weak);
    --decision-text: var(--warning);
  }

  .decision-theme-emerald {
    --decision-ring: var(--success);
    --decision-bg: var(--success-weak);
    --decision-text: var(--success);
  }

  .decision-theme-slate {
    --decision-ring: var(--border-strong);
    --decision-bg: var(--surface-strong);
    --decision-text: var(--text-muted);
  }

  .focus-compare-theme {
    --overlay-legacy: rgba(15, 23, 42, 0.5);
  }

  .dark .focus-compare-theme {
    --overlay-legacy: rgba(2, 6, 23, 0.6);
  }

  .sharp-toggle {
    --toggle-track-w: 32px;
    --toggle-track-h: 16px;
    --toggle-pad: 2px;
    --toggle-border: 1px;
    --toggle-knob: 10px;
    width: var(--toggle-track-w);
    height: var(--toggle-track-h);
    padding: var(--toggle-pad);
    border-width: var(--toggle-border);
    border-style: solid;
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
    justify-content: flex-start;
    border-radius: 0;
  }

  .sharp-toggle__knob {
    width: var(--toggle-knob);
    height: var(--toggle-knob);
    border-radius: 0;
    transform: translateX(0);
    transition: transform 150ms ease;
  }

  .sharp-toggle[data-state="on"] .sharp-toggle__knob {
    transform: translateX(
      calc(var(--toggle-track-w) - (var(--toggle-pad) * 2) - (var(--toggle-border) * 2) - var(--toggle-knob))
    );
  }

  @media (prefers-reduced-motion: reduce) {
    .sharp-toggle__knob {
      transition: none;
    }
  }
}
